> Thinking

```

```

> Memory

### Java

```
ImageIO
	read
	write
```



### Android

```
View
    ViewGroup
    TextView
    ImageView
    ProgressBar

AdapterView
    Adapter

ViewAnimator

Pickers
    DatePicker
    TimePicker
    NumberPicker

Clocks
    AnalogClock
    DigitalClock

VideoView
SurfaceView
TextureView
WebView
TabHost
TabWidget
RemoteViews

自定义 View
 绘制流程 onFinishInflate systemUI

View
    View 滚动
    View 内嵌滚动
    View 事件分发

ViewTreeObserver

Dialog # 自定义 ondestroy
PopupWindow # 自定义
Menu
Toast
通知 NotificationCompat.Builder
动画
InputEvent # DPAD_CENTER 确认键

View
    位置 状态 深色模式 执行动画

事件分发 touch

WebView
    file:///android_asset/

SurfaceView
	GLSurfaceView
TabHost
SurfaceHolder surfaceHolder = surfaceView.getHolder();
surfaceHolder.setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);
surfaceHolder.setFixedSize(100, 100);
surfaceHolder.addCallback(new SurfaceHolder.Callback() {
    @Override
    public void surfaceCreated(@NonNull SurfaceHolder surfaceHolder) { }
    @Override
    public void surfaceChanged(@NonNull SurfaceHolder surfaceHolder, int i, int i1, int i2) { }
    @Override
    public void surfaceDestroyed(@NonNull SurfaceHolder surfaceHolder) { }
});
surfaceHolder.setKeepScreenOn(true);
Canvas canvas = surfaceHolder.lockCanvas();
canvas = surfaceHolder.lockHardwareCanvas();
surfaceHolder.unlockCanvasAndPost(canvas);

FrameLayout tabContentView = tabHost.getTabContentView();
LayoutInflater.from(tabActivity).inflate(R.layout.activity_main, tabContentView, true);
TabHost.TabSpec tabSpec = tabHost.newTabSpec("tag")
        .setIndicator("label")
        .setContent(R.id.layout);
tabHost.addTab(tabSpec);
tabHost.setOnTabChangedListener(new TabHost.OnTabChangeListener() {
    @Override
    public void onTabChanged(String tabId) {
        if (tabId.equals("tag")) {
        }
    }
});

VideoView

绘图
Canvas
Matrix
Paint

Shader
    LinearGradient
    SweepGradient
    RadialGradient
    ComposeShader

Xfermode
	PorterDuffXfermode

DrawFilter
    PaintFlagsDrawFilter // 毛边过滤

Drawable
iv1Drawable.setColorFilter(colorFilter);

Point
Rect RectF
Color # parse valueOf WHITE BLACK TRANSPARENT
ColorMatrix
ColorFilter colorFilter = new PorterDuffColorFilter(calcColor, PorterDuff.Mode.SRC_IN);

Matrix

Bitmap
BitmapFactory
BitmapRegionDecoder

Gravity # NO_GRAVITY CENTER FILL CLIP RELATIVE LEFT RIGHT TOP BOTTOM START END

Point point = new Point();
point.set(1, 1);
point.offset(1, 1);

Rect rect = new Rect();
rect.width(); rect.height();
rect.centerX(); rect.centerY();
rect.flattenToString();
rect.offset(1, 1); rect.offsetTo(1, 1);

Path path = new Path();
path.moveTo(0,0);
path.lineTo(10,10);
path.close();

Color.rgb(0, 0, 0);
Color.parseColor("0x999999");

Paint paint = new Paint(Paint.ANTI_ALIAS_FLAG);
paint.getColor(); paint.setColor(Color.BLACK);
paint.getTextSize(); paint.setTextSize(12);
paint.getTypeface(); paint.setTypeface(Typeface.create("System", Typeface.BOLD));
paint.getStyle(); paint.setStyle(Paint.Style.FILL);
paint.getAlpha(); paint.setAlpha(255);
paint.getShader(); paint.setShader(new LinearGradient(0, 0, 0, 0, Color.BLUE, Color.BLACK, Shader.TileMode.CLAMP));
paint.measureText("");
paint.getTextBounds("", 0, 0, new Rect());
paint.getTextWidths("", new float[1]);
paint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.SRC_IN));
paint.getStrokeWidth(); paint.setStrokeWidth(10);
paint.isAntiAlias(); paint.setAntiAlias(true);

Drawable drawable = new ColorDrawable(Color.BLUE);
drawable.getBounds(); drawable.setBounds(new Rect());
drawable.draw(canvas);
drawable.getColorFilter(); drawable.setColorFilter(new ColorFilter());
new BitmapDrawable(resources,bitmap)

Canvas canvas = new Canvas(bitmap);
canvas.getWidth();
canvas.getHeight();
canvas.drawRect( 0, 0, 0, 0, paint);
canvas.drawBitmap(bitmap, 0, 0, paint);
canvas.drawText("", 0, 0, paint);
canvas.drawCircle(0, 0, 5, paint);
canvas.concat(new Matrix());
canvas.drawBitmapMesh(bitmap, 1, 1, new float[1], 1, new int[2], 0, new Paint());
canvas.clipPath(new Path(), Region.Op.DIFFERENCE);
canvas.save(); canvas.restore();
canvas.getDrawFilter(); canvas.setDrawFilter(new PaintFlagsDrawFilter(0, Paint.ANTI_ALIAS_FLAG | Paint.FILTER_BITMAP_FLAG));

BitmapFactory.Options options = new BitmapFactory.Options();
options.inJustDecodeBounds = true;
options.inSampleSize = 2;
options.outMimeType = "";
options.outWidth = 1;
options.outHeight = 1;
options.outConfig = Bitmap.Config.ALPHA_8;

Bitmap bitmap = Bitmap.createBitmap(1, 1, Bitmap.Config.ALPHA_8);
bitmap = BitmapFactory.decodeByteArray(new byte[1], 0, 0);
bitmap = BitmapFactory.decodeFile("");
bitmap = BitmapRegionDecoder.newInstance("").decodeRegion(new Rect(), new BitmapFactory.Options());
bitmap.compress(Bitmap.CompressFormat.PNG, 100, new FileOutputStream(""));

Matrix.MSCALE_X
Matrix matrix = new Matrix();
matrix.setRotate(0); matrix.preRotate(0); matrix.postRotate(0);
matrix.setTranslate(1, 1); matrix.preTranslate(1, 1); matrix.postTranslate(1, 1);
matrix.setScale(1, 1); matrix.preScale(1, 1); matrix.postScale(1, 1);
matrix.setSkew(0, 0); matrix.preSkew(0, 0); matrix.postSkew(0, 0);
matrix.setConcat(matrix, matrix); matrix.preConcat(matrix); matrix.postConcat(matrix);
matrix.setPolyToPoly(new float[1], 0, new float[1], 0, 1);

// Bitmap 转为 Base64
public static String bitmap2Base64(Bitmap bitmap) {
    if (bitmap != null) {
        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
        bitmap.compress(Bitmap.CompressFormat.JPEG, 100, byteArrayOutputStream);
        byte[] bytes = byteArrayOutputStream.toByteArray();
        return Base64.encodeToString(bytes, Base64.DEFAULT);
    }
    return null;
}

ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
bitmap.compress(Bitmap.CompressFormat.JPEG, 60, byteArrayOutputStream);
byte[] byteArray = byteArrayOutputStream.toByteArray();
String base64String = new String(Base64.encode(byteArray, 0));

byte[] bytes = Base64.decode(byteArray, 0);
Bitmap bitmap = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);
Drawable drawable = new BitmapDrawable(resources,bitmap);


Manifest.permission.CAMERA
Camera
	getParameters setParameters
	setPreviewDisplay # Camera.PreviewCallback onPreviewFrame
	autoFocus # Camera.AutoFocusCallback onAutoFocus
	startPreview stopPreview # 开始停止预览
	takePicture # 照相
		# Camera.ShutterCallback onShutter
		# Camera.PictureCallback onPictureTaken (byte[] data, Camera camera)
	open
	release
	setDisplayOrientation # 90 Portrait mode
	lock unlock
	getNumberOfCameras # 摄像头数目 判断手机是否存在摄像头 context.getPackageManager().hasSystemFeature(PackageManager.FEATURE_CAMERA) ? 1 : 0;
	getCameraInfo # Camera.CameraInfo
	setOneShotPreviewCallback # Camera.PreviewCallback onPreviewFrame
Camera.CameraInfo
	CAMERA_FACING_FRONT CAMERA_FACING_BACK
	facing
	orientation
Camera.Parameters
	<flash mode>
	getSupportedPreviewSizes # 预览尺寸 预览像素 Camera.Size width height
	getSupportedPictureSizes # Camera.Size width height
	getPictureSize setPictureSize # 设置照片的大小
	getSupportedPreviewFpsRange # 预览帧率
	getSupportedPreviewFormats # 颜色格式
	getPreviewFpsRange setPreviewFpsRange
	getPreviewSize setPreviewSize # 设置预览照片的大小
	getPreviewFrameRate setPreviewFrameRate # 帧率 每秒几帧
	getPictureFormat setPictureFormat # 设置照片的输出格式 PixelFormat.JPEG
	getPreviewFormat setPreviewFormat # ImageFormat.NV21 YV12
	getFlashMode setFocusMode # 聚焦 Camera.Parameters.FOCUS_MODE_CONTINUOUS_VIDEO
	getFlashMode setFlashMode # Camera.Parameters.FLASH_MODE_AUTO
		# Camera.Parameters.FLASH_MODE_TORCH 打开
		# Camera.Parameters.FLASH_MODE_OFF 关闭
	getWhiteBalance setWhiteBalance # 白平衡 Camera.Parameters.WHITE_BALANCE_AUTO
	getSceneMode setSceneMode # 闪光灯 Camera.Parameters.SCENE_MODE_AUTO
	set # 照片质量 ("jpeg-quality", 85)
	flatten unflatten # reset
	setRotation
SurfaceView
	getHolder

相机
CameraManager
check Manifest.permission.CAMERA
api Build.VERSION_CODES.LOLLIPOP

CameraManager # Context.CAMERA_SERVICE
	getCameraIdList
	getCameraCharacteristics # cameraId
	openCamera # CameraDevice.StateCallback onOpened onDisconnected onError

CameraCharacteristics
	get # CameraCharacteristics.LENS_FACING
		# CameraMetadata.LENS_FACING_BACK LENS_FACING_FRONT LENS_FACING_EXTERNAL

CameraDevice
	close

音视频
MediaPlayer
SoundPool # Builder OnLoadCompleteListener | load unload play pause resume stop release
AudioManager # streamVolume MUSIC ALARM RING NOTIFICATION SYSTEM VOICE_CALL DTMF mode NORMAL speakerphoneOn

MediaRecorder
MediaRecorder.AudioSource
MediaRecorder.AudioEncoder
MediaRecorder.OutputFormat
MediaRecorder.OnErrorListener
MediaRecorder.OnInfoListener

MediaRecorder
	setCamera
	setVideoSource # MediaRecorder.VideoSource.CAMERA
	setVideoEncoder # MediaRecorder.VideoEncoder.H264
	setVideoFrameRate # 20
	setVideoSize
	setPreviewDisplay # surfaceHolder.getSurface()
	setAudioSource # MediaRecorder.AudioSource.DEFAULT MIC麦克风
	setAudioEncoder # MediaRecorder.AudioEncoder.AAC AMR_NB
	setAudioChannels # 1
	setAudioSamplingRate # 8000
	setAudioEncodingBitRate # 64
	setOutputFile # 
	setOutputFormat # MediaRecorder.OutputFormat.MPEG_4 AMR_NB
	setMaxDuration # 30000
	setOrientationHint # 90
	reset
	prepare release
	start stop

activity.setVolumeControlStream(AudioManager.STREAM_MUSIC); // 设置activity音量控制键控制的音频流
MediaPlayer mediaPlayer = new MediaPlayer();
mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);
mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {
    @Override
    public void onCompletion(MediaPlayer mediaPlayer) { }
});
mediaPlayer.setOnErrorListener(new MediaPlayer.OnErrorListener() {
    @Override
    public boolean onError(MediaPlayer mediaPlayer, int what, int extra) {
        switch (what) {
            case MediaPlayer.MEDIA_ERROR_SERVER_DIED:
        }
        return false;
    }
});
mediaPlayer.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {
    @Override
    public void onPrepared(MediaPlayer mediaPlayer) { }
});
mediaPlayer.setOnInfoListener(new MediaPlayer.OnInfoListener() {
    @Override
    public boolean onInfo(MediaPlayer mediaPlayer, int i, int i1) { return false; }
});
mediaPlayer.setOnBufferingUpdateListener(new MediaPlayer.OnBufferingUpdateListener() {
    @Override
    public void onBufferingUpdate(MediaPlayer mediaPlayer, int i) { }
});
mediaPlayer.seekTo(10); mediaPlayer.setOnSeekCompleteListener(new MediaPlayer.OnSeekCompleteListener() {
    @Override
    public void onSeekComplete(MediaPlayer mediaPlayer) { }
});
mediaPlayer.setOnVideoSizeChangedListener(new MediaPlayer.OnVideoSizeChangedListener() {
    @Override
    public void onVideoSizeChanged(MediaPlayer mediaPlayer, int i, int i1) { }
});
mediaPlayer.setVolume(0.10f, 0.10f);
mediaPlayer.setDisplay(new SurfaceView(this).getHolder());
mediaPlayer.setSurface(new Surface(new TextureView(this).getSurfaceTexture()));
mediaPlayer.prepare();
mediaPlayer.prepareAsync();
mediaPlayer.start();
mediaPlayer.stop();
mediaPlayer.release();
mediaPlayer.reset();
mediaPlayer.isPlaying();
mediaPlayer.isLooping(); mediaPlayer.setLooping(true);

AudioManager audioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);
audioManager.getRingerMode() == AudioManager.RINGER_MODE_NORMAL;

int minBufferSize = AudioTrack.getMinBufferSize(44100, AudioFormat.CHANNEL_IN_MONO, AudioFormat.ENCODING_PCM_16BIT);
AudioTrack audioTrack = new AudioTrack(
        AudioManager.STREAM_MUSIC,
        44100,
        AudioFormat.CHANNEL_OUT_MONO, //单声道
        AudioFormat.ENCODING_PCM_16BIT,
        minBufferSize,
        AudioTrack.MODE_STREAM
);
audioTrack.play();
switch (audioTrack.getState()) {
    case AudioTrack.STATE_INITIALIZED:
        audioTrack.release();
        break;
}
switch (audioTrack.getPlayState()) {
    case AudioTrack.PLAYSTATE_PLAYING:
        audioTrack.stop();
        audioTrack.pause();
        break;
    case AudioTrack.PLAYSTATE_PAUSED:
        audioTrack.play();
        audioTrack.write(new byte[1], 1, 1);
        break;
}

int minBufferSize = AudioRecord.getMinBufferSize(44100, AudioFormat.CHANNEL_IN_MONO, AudioFormat.ENCODING_PCM_16BIT);
AudioRecord audioRecord = new AudioRecord(
        MediaRecorder.AudioSource.MIC,
        44100,
        AudioFormat.CHANNEL_IN_MONO, //单声道
        AudioFormat.ENCODING_PCM_16BIT,
        minBufferSize
);
switch (audioRecord.getState()) {
    case AudioRecord.STATE_INITIALIZED:
        audioRecord.startRecording();
        while (audioRecord.getRecordingState() == AudioRecord.RECORDSTATE_RECORDING) {
            audioRecord.stop();
            int readSize =  audioRecord.read(new byte[1], 0, 0);
            if (readSize !=  AudioRecord.ERROR_INVALID_OPERATION && readSize != AudioRecord.ERROR_BAD_VALUE){
                // fileOutputStream.write(buffer,0,readSize);
            }
        }
        audioRecord.release();
        break;
    case AudioRecord.STATE_UNINITIALIZED:
}








```

#### GiraffePlayer

```
https://github.com/tcking/GiraffePlayer
```

#### Vitamio

```
https://github.com/yixia/VitamioBundle
https://github.com/yixia/VitamioBundleStudio
http://www.vitamio.org/
```

#### UniversalVideoView

```
https://github.com/linsea/UniversalVideoView
```

#### ijkplayer

```
https://github.com/bilibili/ijkplayer
```

#### DanmakuFlameMaster

```
https://github.com/bilibili/DanmakuFlameMaster
```

#### PLDroidPlayer

```
https://github.com/pili-engineering/PLDroidPlayer
```

#### PLDroidShortVideo

```
https://github.com/pili-engineering/PLDroidShortVideo
```

#### PLDroidCameraStreaming

```
https://github.com/pili-engineering/PLDroidMediaStreaming
```

#### ExoPlayer

```
https://github.com/google/ExoPlayer

implementation 'com.google.android.exoplayer:exoplayer:2.13.3'

exoplayer core dash ui

Timeline.Window window = new Timeline.Window();
SimpleExoPlayerView simpleExoPlayerView = null;

BandwidthMeter bandwidthMeter = new DefaultBandwidthMeter();
TrackSelection.Factory videoTrackSelectionFactory =
        new AdaptiveVideoTrackSelection.Factory(bandwidthMeter);
TrackSelector trackSelector =
        new DefaultTrackSelector(videoTrackSelectionFactory);
LoadControl loadControl = new DefaultLoadControl();
SimpleExoPlayer player =
        ExoPlayerFactory.newSimpleInstance(this, trackSelector, loadControl);
simpleExoPlayerView.setPlayer(player);
player.setPlayWhenReady(true);

DefaultBandwidthMeter bandwidthMeter = new DefaultBandwidthMeter();
DataSource.Factory dataSourceFactory = new DefaultDataSourceFactory(this, bandwidthMeter
        , new DefaultHttpDataSourceFactory(Util.getUserAgent(this, "yourApplicationName"), bandwidthMeter));
ExtractorsFactory extractorsFactory = new DefaultExtractorsFactory();
MediaSource videoSource = new ExtractorMediaSource(Uri.parse(VIDEO_URL),
        dataSourceFactory, extractorsFactory, mainHandler, null);
MediaSource videoSource2 = new ExtractorMediaSource(Uri.parse(VIDEO_URL_DEFAULT),
        dataSourceFactory, extractorsFactory, mainHandler, null);
//组合几个视频
ConcatenatingMediaSource concatenatingMediaSource = new ConcatenatingMediaSource(videoSource,videoSource2);
//不停循环
LoopingMediaSource loopingSource = new LoopingMediaSource(concatenatingMediaSource);
player.prepare(loopingSource);

//
DefaultBandwidthMeter bandwidthMeter = new DefaultBandwidthMeter();
// Produces DataSource instances through which media data is loaded.
DataSource.Factory dataSourceFactory = new DefaultDataSourceFactory(this, bandwidthMeter
        , new DefaultHttpDataSourceFactory(Util.getUserAgent(this, "yourApplicationName"), bandwidthMeter));
// Produces Extractor instances for parsing the media data.
ExtractorsFactory extractorsFactory = new DefaultExtractorsFactory();
// This is the MediaSource representing the media to be played.
MediaSource videoSource = new ExtractorMediaSource(Uri.parse(url),
        dataSourceFactory, extractorsFactory, mainHandler, null);

//不停循环
LoopingMediaSource loopingSource = new LoopingMediaSource(videoSource);
SurfaceView sv = (SurfaceView) findViewById(R.id.sv);
player.setVideoSurfaceView(sv);
player.setPlayWhenReady(true);
player.prepare(loopingSource);

//
int playerWindow = player.getCurrentWindowIndex();
playerPosition = C.TIME_UNSET;
Timeline timeline = player.getCurrentTimeline();
if (!timeline.isEmpty() && timeline.getWindow(playerWindow, window).isSeekable) {
    playerPosition = player.getCurrentPosition();
}
player.release();
player = null;
```



### iOS

```
绘图
```

### HTML5

```
绘图
多媒体标签
<canvas> # 绘图
<object> # 对象
<param> # 对象参数
<embed> # 嵌入
<audio> # 音频
<video> # 视频
<source> # 媒体源

<canvas id="canvas" width="1000" height	="1000" style="background:#000">
	您的浏览器不支持canvas标签
</canvas>
<script>
	var canvas=document.getElementById('canvas'); //获取canvas元素
	var cxt=canvas.getContext('2d'); //设置2d绘图环境
	var time=0; //声明一个时间参数(1:1天)
	function draw(){
		cxt.clearRect(0,0,1000,1000); //清除画布(清除之前的内容 重新画)
		//画轨道
		cxt.strokeStyle="#fff"; //设置笔触颜色
		cxt.beginPath();
		cxt.arc(500,500,100,0,360,false);
		cxt.closePath();
		cxt.stroke();
		//画太阳
		cxt.beginPath();
		cxt.arc(500,500,20,0,360,false);
		cxt.closePath();
		//太阳需要填充颜色
		//设置填充颜色(渐变色)
		//cxt.createRadialGradient(内圆心x,内圆形y,内半径,外圆心x,外圆心y,外半径);
		var sunColor=cxt.createRadialGradient(500,500,0,500,500,20);
		sunColor.addColorStop(0,"#f00");
		sunColor.addColorStop(1,"#f90");
		cxt.fillStyle=sunColor;
		cxt.fill();
		//画地球
		cxt.save();
		
		cxt.translate(500,500); //设置一下异次元空间的0，0点
		//设置旋转角度
		//cxt.rotate(90*Math.PI/190);
		//地球公转一周需要365天，time=1天 一天转365/360度
		cxt.rotate(time*365/360*Math.PI/190);
		//画出地球
		cxt.beginPath();
		cxt.arc(0,-100,10,0,360,false);
		cxt.closePath();
		//设置一下地球的颜色
		var earthColor=cxt.createRadialGradient(0,-100,0,0,-100,10);
		earthColor.addColorStop(0,'#78B1E8');
		earthColor.addColorStop(1,'#050C12');
		cxt.fillStyle=earthColor;
		cxt.fill();
		cxt.restore();
		time+=1; //每画一次图像，时间参数加1
	}
	//使地球动起来
	setInterval(draw,10);
</script>

```

