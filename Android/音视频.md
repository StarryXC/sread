> Thinking

```
MediaPlayer
SoundPool # Builder OnLoadCompleteListener | load unload play pause resume stop release
AudioManager # streamVolume MUSIC ALARM RING NOTIFICATION SYSTEM VOICE_CALL DTMF mode NORMAL speakerphoneOn

MediaRecorder
MediaRecorder.AudioSource
MediaRecorder.AudioEncoder
MediaRecorder.OutputFormat
MediaRecorder.OnErrorListener
MediaRecorder.OnInfoListener

MediaRecorder
	setCamera
	setVideoSource # MediaRecorder.VideoSource.CAMERA
	setVideoEncoder # MediaRecorder.VideoEncoder.H264
	setVideoFrameRate # 20
	setVideoSize
	setPreviewDisplay # surfaceHolder.getSurface()
	setAudioSource # MediaRecorder.AudioSource.DEFAULT MIC麦克风
	setAudioEncoder # MediaRecorder.AudioEncoder.AAC AMR_NB
	setAudioChannels # 1
	setAudioSamplingRate # 8000
	setAudioEncodingBitRate # 64
	setOutputFile # 
	setOutputFormat # MediaRecorder.OutputFormat.MPEG_4 AMR_NB
	setMaxDuration # 30000
	setOrientationHint # 90
	reset
	prepare release
	start stop
```

> Memory

```
activity.setVolumeControlStream(AudioManager.STREAM_MUSIC); // 设置activity音量控制键控制的音频流
MediaPlayer mediaPlayer = new MediaPlayer();
mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);
mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {
    @Override
    public void onCompletion(MediaPlayer mediaPlayer) { }
});
mediaPlayer.setOnErrorListener(new MediaPlayer.OnErrorListener() {
    @Override
    public boolean onError(MediaPlayer mediaPlayer, int what, int extra) {
        switch (what) {
            case MediaPlayer.MEDIA_ERROR_SERVER_DIED:
        }
        return false;
    }
});
mediaPlayer.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {
    @Override
    public void onPrepared(MediaPlayer mediaPlayer) { }
});
mediaPlayer.setOnInfoListener(new MediaPlayer.OnInfoListener() {
    @Override
    public boolean onInfo(MediaPlayer mediaPlayer, int i, int i1) { return false; }
});
mediaPlayer.setOnBufferingUpdateListener(new MediaPlayer.OnBufferingUpdateListener() {
    @Override
    public void onBufferingUpdate(MediaPlayer mediaPlayer, int i) { }
});
mediaPlayer.seekTo(10); mediaPlayer.setOnSeekCompleteListener(new MediaPlayer.OnSeekCompleteListener() {
    @Override
    public void onSeekComplete(MediaPlayer mediaPlayer) { }
});
mediaPlayer.setOnVideoSizeChangedListener(new MediaPlayer.OnVideoSizeChangedListener() {
    @Override
    public void onVideoSizeChanged(MediaPlayer mediaPlayer, int i, int i1) { }
});
mediaPlayer.setVolume(0.10f, 0.10f);
mediaPlayer.setDisplay(new SurfaceView(this).getHolder());
mediaPlayer.setSurface(new Surface(new TextureView(this).getSurfaceTexture()));
mediaPlayer.prepare();
mediaPlayer.prepareAsync();
mediaPlayer.start();
mediaPlayer.stop();
mediaPlayer.release();
mediaPlayer.reset();
mediaPlayer.isPlaying();
mediaPlayer.isLooping(); mediaPlayer.setLooping(true);

AudioManager audioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);
audioManager.getRingerMode() == AudioManager.RINGER_MODE_NORMAL;

int minBufferSize = AudioTrack.getMinBufferSize(44100, AudioFormat.CHANNEL_IN_MONO, AudioFormat.ENCODING_PCM_16BIT);
AudioTrack audioTrack = new AudioTrack(
        AudioManager.STREAM_MUSIC,
        44100,
        AudioFormat.CHANNEL_OUT_MONO, //单声道
        AudioFormat.ENCODING_PCM_16BIT,
        minBufferSize,
        AudioTrack.MODE_STREAM
);
audioTrack.play();
switch (audioTrack.getState()) {
    case AudioTrack.STATE_INITIALIZED:
        audioTrack.release();
        break;
}
switch (audioTrack.getPlayState()) {
    case AudioTrack.PLAYSTATE_PLAYING:
        audioTrack.stop();
        audioTrack.pause();
        break;
    case AudioTrack.PLAYSTATE_PAUSED:
        audioTrack.play();
        audioTrack.write(new byte[1], 1, 1);
        break;
}

int minBufferSize = AudioRecord.getMinBufferSize(44100, AudioFormat.CHANNEL_IN_MONO, AudioFormat.ENCODING_PCM_16BIT);
AudioRecord audioRecord = new AudioRecord(
        MediaRecorder.AudioSource.MIC,
        44100,
        AudioFormat.CHANNEL_IN_MONO, //单声道
        AudioFormat.ENCODING_PCM_16BIT,
        minBufferSize
);
switch (audioRecord.getState()) {
    case AudioRecord.STATE_INITIALIZED:
        audioRecord.startRecording();
        while (audioRecord.getRecordingState() == AudioRecord.RECORDSTATE_RECORDING) {
            audioRecord.stop();
            int readSize =  audioRecord.read(new byte[1], 0, 0);
            if (readSize !=  AudioRecord.ERROR_INVALID_OPERATION && readSize != AudioRecord.ERROR_BAD_VALUE){
                // fileOutputStream.write(buffer,0,readSize);
            }
        }
        audioRecord.release();
        break;
    case AudioRecord.STATE_UNINITIALIZED:
}




```

